cc = clang
clang.exe = "emcc.bat"
clang.linkerexe = "emcc.bat"
nimcache = "../cache"
outdir = "../bin"
cpu = "wasm32"
os = "linux"
d = "emscripten"
warning[GcMem] = off

@if submodule:
  noMain = "on"
  passC = "-s WASM=1 -s EXTRA_EXPORTED_RUNTIME_METHODS=['ccall','cwrap']"
  passL = "-s WASM=1 -s EXTRA_EXPORTED_RUNTIME_METHODS=['ccall','cwrap']"
@else:
  passC = "-s WASM=1 -s EXTRA_EXPORTED_RUNTIME_METHODS=['ccall','cwrap']"
  passL = "-s WASM=1 -s EXTRA_EXPORTED_RUNTIME_METHODS=['ccall','cwrap']"
@end